11# Gemini Project Context

This document provides context for the Gemini AI assistant to understand the "Recording Homework App" project.

## Project Overview

This is a web application designed for students and teachers. It appears to be a platform for reading-related homework. Students can practice reading stories, record themselves reading, and submit recordings. Teachers can create assignments, review student recordings, and track student progress.

The application has a clear distinction between student and teacher roles, with different dashboards and functionalities for each.

## Tech Stack

*   **Framework**: Next.js (with Turbopack)
*   **Language**: TypeScript
*   **Database**: PostgreSQL
*   **ORM**: Drizzle ORM
*   **Authentication**: JWT-based custom authentication
*   **Styling**: Tailwind CSS
*   **UI Components**: Radix UI, custom components
*   **Text-to-Speech**: ElevenLabs
*   **File Storage**: AWS S3 (or compatible, like Cloudflare R2)
*   **Linting**: ESLint
*   **Package Manager**: npm

## Project Structure

*   `src/app/`: The main application code, following the Next.js App Router structure.
    *   `api/`: API routes for various functionalities like authentication, stories, TTS, and file uploads.
    *   `(student)/`: Routes and pages specific to the student role.
    *   `(teacher)/`: Routes and pages specific to the teacher role.
    *   `login/`: The main login page.
    *   `student-login/`: A separate login page for students, possibly with a different authentication method (e.g., visual password).
*   `src/components/`: Reusable React components.
    *   `audio/`: Components related to audio recording.
    *   `auth/`: Components for authentication, including login forms and student selection.
    *   `stories/`: Components for displaying stories.
    *   `ui/`: Generic UI components (Button, Card, etc.).
*   `src/lib/`: Core application logic.
    *   `auth.ts`: Authentication-related functions.
    *   `db/`: Drizzle ORM setup, schema, and migration scripts.
        *   `schema.ts`: The heart of the database, defining all tables and relations.
    *   `elevenlabs/`: Client for interacting with the ElevenLabs API.
    *   `storage/`: Client for file storage (e.g., S3/R2).
*   `drizzle.config.ts`: Configuration for Drizzle ORM.
*   `migrations/`: Database migration files generated by Drizzle.
*   `package.json`: Project dependencies and scripts.

## Database Schema

The database schema is defined in `src/lib/db/schema.ts`. Key tables include:

*   `users`: Stores user information (students, teachers, admins).
*   `students`: Extends the `users` table with student-specific information.
*   `teachers`: Extends the `users` table with teacher-specific information.
*   `stories`: Contains the text content of the stories for reading practice.
*   `classes`: Represents classrooms, managed by teachers.
*   `assignments`: Links stories to classes, creating homework assignments.
*   `recordings`: Stores information about student recordings for assignments.
*   `student_progress`: Tracks student progress on assignments.

## Available Scripts

The following scripts are defined in `package.json`:

*   `dev`: Starts the development server with Turbopack.
*   `build`: Builds the application for production.
*   `start`: Starts the production server.
*   `lint`: Lints the codebase using ESLint.
*   `db:generate`: Generates database migration files with Drizzle Kit.
*   `db:migrate`: Applies database migrations with Drizzle Kit.
*   `db:push`: Pushes schema changes to the database (for rapid prototyping).
*   `db:studio`: Starts the Drizzle Studio for database browsing.
*   `db:seed`: Seeds the database with initial data.
